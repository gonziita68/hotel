{% extends "client/base.html" %}
{% block title %}Disponibilidad - {{ hotel.name }}{% endblock %}
{% block content %}
<section class="hero-section">
  <div class="container hero-content">
    <h1 class="display-6">Habitaciones disponibles</h1>
    <p class="text-light">{{ hotel.name }} • {{ check_in }} → {{ check_out }} • {{ guests }} huésped(es)</p>
  </div>
</section>

<div class="container my-4">
  <div class="booking-form">
    <form method="post" action="{% url 'hotel_confirm_reservation' hotel_slug=hotel.slug %}">
      {% csrf_token %}
      <input type="hidden" name="check_in" value="{{ check_in }}">
      <input type="hidden" name="check_out" value="{{ check_out }}">
      <input type="hidden" name="guests" value="{{ guests }}">

      <div class="mb-3">
        {% if rooms %}
        <div class="row g-3">
          {% for r in rooms %}
          <div class="col-md-6">
            <div class="room-card available">
              <div class="room-content">
                <div class="room-header">
                  <h3 class="room-title">Habitación {{ r.number }} • {{ r.get_type_display }}</h3>
                  <span class="status-badge status-available">Disponible</span>
                </div>
                <p class="room-description">Capacidad: {{ r.capacity }} huésped(es)</p>
                <div class="d-flex justify-content-between align-items-center">
                  <div class="price-tag">
                    <span class="price-amount">${{ r.price }}</span>
                    <span class="price-period">/ noche</span>
                  </div>
                  <div>
                    <label class="btn btn-outline-primary">
                      <input type="radio" name="room_id" value="{{ r.id }}" required> Seleccionar
                    </label>
                  </div>
                </div>
              </div>
            </div>
          </div>
          {% endfor %}
        </div>
        {% else %}
        <div class="alert alert-warning">No hay habitaciones disponibles para el rango seleccionado.</div>
        {% endif %}
      </div>

      <h4 class="mt-4">Datos del cliente</h4>
      <div class="row g-3">
        <div class="col-md-6">
          <input name="full_name" class="form-control" placeholder="Nombre completo" required>
        </div>
        <div class="col-md-6">
          <input name="email" type="email" class="form-control" placeholder="Email" required>
        </div>
        <div class="col-md-6">
          <input name="phone" class="form-control" placeholder="Teléfono">
        </div>
        <div class="col-md-6">
          <input name="document" class="form-control" placeholder="Documento">
        </div>
      </div>

      <div class="mt-3 d-flex justify-content-end">
        <button class="btn btn-success" type="submit"><i class="fas fa-check me-2"></i>Confirmar reserva</button>
      </div>
    </form>
  </div>
</div>
{% endblock %}